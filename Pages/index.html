<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recent Notes - Note Taking Session</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Baloo+Bhaijaan+2:wght@400;600&display=swap" rel="stylesheet">
    
    <style>
        /* ==========================================================================
           CSS Variable Definitions - Design System
           ========================================================================== */
        :root {
            --text: #5D4F4E;
            --background: #EAE9E9;
            --background-secondary: #DDDBD7;
            --primary: #8C7777;
            --secondary: #DDDBD7;
            --text-color: #5D4F4E;
        }
        
        /* ==========================================================================
           Typography Scale
           ========================================================================== */
        .h1-style {
            font: 600 23.04px/100% 'Baloo Bhaijaan 2', sans-serif;
        }
        
        .h2-style {
            font: 400 23.04px/100% 'Baloo Bhaijaan 2', sans-serif;
        }
        
        .h3-style {
            font: 400 19.20px/33px 'Baloo Bhaijaan 2', sans-serif;
        }
        
        .h4-style {
            font: 400 14.81px/100% 'Baloo Bhaijaan 2', sans-serif;
        }
        
        /* ==========================================================================
           Base Styles
           ========================================================================== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Baloo Bhaijaan 2', sans-serif;
            color: var(--text);
            background: var(--background);
            overflow-x: hidden;
            margin: 0;
            padding: 0;
            height: 100vh;
            width: 100vw;
        }
        
        /* ==========================================================================
           Root Container - Recent Notes Screen
           ========================================================================== */
        .recent-notes-screen {
            width: 100%;
            max-width: 100vw;
            height: 100vh;
            position: relative;
            background: var(--background);
            overflow: hidden;
            border-radius: 0;
            margin: 0;
            padding: 0;
        }
        
        /* ==========================================================================
           Header - Top Menu Bar Component
           ========================================================================== */
        .top-menu-bar {
            width: 100%;
            height: 73px;
            position: absolute;
            left: 0;
            top: 0;
            overflow: hidden;
            border-bottom: 1px solid rgba(0, 0, 0, 0.09);
            z-index: 100;
        }
        
        /* Search Bar - Center Positioned */
        .search-bar {
            width: min(603px, 28.5%);
            height: 47px;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            top: 13px;
            background: var(--background-secondary);
            border-radius: 13px;
            border: 1px solid rgba(0, 0, 0, 0.07);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .search-text {
            width: 100%;
            text-align: center;
            color: var(--text);
            font-size: min(23.04px, 1.6vw);
            font-family: 'Baloo Bhaijaan 2';
            font-weight: 600;
            line-height: 100%;
            padding: 0 40px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        .search-icon {
            position: absolute;
            right: 13.5px;
            top: 50%;
            transform: translateY(-50%);
            width: 15px;
            height: 15px;
        }
        
        .search-icon svg {
            width: 100%;
            height: 100%;
        }
        
        /* Left Navigation Section */
        .left-navigation {
            position: absolute;
            left: 2.49%;
            top: 13px;
            height: auto;
            display: flex;
            align-items: center;
            gap: 19px;
        }
        
        .nav-button {
            padding: 11px 10px;
            border-radius: 5px;
            background: transparent;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
        }
        
        .nav-button:hover {
            background: rgba(0, 0, 0, 0.05);
        }
        
        .nav-button svg {
            width: 20px;
            height: 20px;
        }
        
        /* Center Action Buttons Section */
        .center-actions {
            position: absolute;
            left: 15.51%;
            top: 13px;
            height: auto;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .action-button {
            padding: 11px 14px;
            border-radius: 5px;
            background: transparent;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
        }
        
        .action-button:hover {
            background: rgba(0, 0, 0, 0.05);
        }
        
        .bookmark-button {
            opacity: 0.80;
            padding: 19px 14px 11px 14px;
        }
        
        .create-note-button {
            padding: 10px 14px;
        }
        
        .calendar-button {
            padding: 19px 14px 11px 14px;
        }
        
        /* Right Toggle Area Section */
        .right-toggle-area {
            position: absolute;
            left: 68.58%;
            top: 0;
            right: 0;
            height: 73px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 2%;
        }
        
        .toggle-component {
            width: 108px;
            height: 53px;
            position: relative;
            opacity: 0.83;
        }
        
        .toggle-switch {
            position: relative;
            width: 100%;
            height: 32px;
        }
        
        .toggle-background {
            position: absolute;
            left: 37.69px;
            top: 9.78px;
            width: 32.62px;
            height: 16.31px;
            background: var(--primary);
            border-radius: 8.15px;
            box-shadow: -1px -1px 2px rgba(50, 50, 50, 0.5),
                        1px 1px 2px rgba(124, 124, 124, 0.3);
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .toggle-indicator {
            position: absolute;
            left: 3px;
            top: 50%;
            transform: translateY(-50%);
            width: 9.78px;
            height: 9.78px;
            background: var(--secondary);
            border-radius: 50%;
            box-shadow: 1px 1px 3px rgba(73, 72, 70, 0.9),
                        1px -1px 2px rgba(73, 72, 70, 0.2),
                        -1px 1px 2px rgba(73, 72, 70, 0.2),
                        -1px -1px 2px rgba(73, 72, 70, 0.5),
                        1px 1px 2px rgba(255, 255, 255, 0.3) inset;
            transition: transform 0.3s;
        }
        
        .toggle-label {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 108px;
            text-align: center;
            color: var(--text-color);
            font-size: 14.81px;
            font-family: 'Baloo Bhaijaan 2';
            font-weight: 400;
        }
        
        /* ==========================================================================
           Main Content Area
           ========================================================================== */
        .content-area {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            top: 103px;
            width: 94.7%;
            max-width: 1437px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            grid-auto-rows: max-content;
            gap: min(64px, 4vw);
            align-content: flex-start;
            padding: 4px 0 30px 0;
            overflow-y: auto;
            height: calc(100vh - 133px);
        }

        #notesGrid {
            display: contents;
        }

        .empty-state {
            grid-column: 1 / -1;
            color: var(--text);
            font-size: 19.2px;
            font-family: 'Baloo Bhaijaan 2', sans-serif;
            text-align: center;
            padding: 40px 0;
        }
        
        /* ==========================================================================
           Card Component
           ========================================================================== */
        .card-component {
            height: 175px;
            border-radius: 13px;
            min-width: 300px;
            flex-shrink: 0;
        }
        
        .card-container {
            padding: 20px 32px;
            background: var(--background-secondary);
            border-radius: 13px;
            border: 1px solid rgba(0, 0, 0, 0.15);
            height: 175px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
            box-sizing: border-box;
            margin: 4px 0;
        }
        
        .card-container:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        
        .card-title-section {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .card-title {
            color: var(--text);
            font-size: 23.04px;
            font-family: 'Baloo Bhaijaan 2';
            font-weight: 400;
            white-space: nowrap;
        }
        
        .card-divider {
            height: 1px;
            background: var(--text);
            opacity: 0.23;
            border: none;
        }
        
        .card-content-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        .content-grid {
            padding: 0 10px;
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            gap: 20px;
            width: 100%;
        }
        
        .content-column-1 {
            display: flex;
            flex-direction: column;
            gap: 20px;
            flex: 1;
            min-width: 0;
        }
        
        .primary-content-text {
            color: var(--text);
            font-size: 19.20px;
            font-family: 'Baloo Bhaijaan 2';
            font-weight: 400;
            line-height: 33px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        .content-column-3 {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: flex-end;
            flex-shrink: 0;
        }
        
        .timestamp-text {
            color: var(--text);
            font-size: 14.81px;
            font-family: 'Baloo Bhaijaan 2';
            font-weight: 400;
            white-space: nowrap;
            text-align: right;
        }
        
        /* ==========================================================================
           Modal Overlay & Create Session Dialog
           ========================================================================== */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.11);
            -webkit-backdrop-filter: blur(36.5px);
            backdrop-filter: blur(36.5px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        
        .modal-overlay.active {
            display: flex;
        }
        
        /* Blur background content when modal is active */
        .recent-notes-screen.blurred {
            filter: blur(4px);
            transition: filter 0.3s ease;
        }
        
        /* Create Session Modal Dialog */
        .create-session-modal {
            width: 497px;
            min-height: 245px;
            background: var(--background-secondary);
            border-radius: 13px;
            border: none;
            padding: 0;
            box-shadow: -100px 100px 200px rgba(161, 161, 161, 0.2),
                        100px -100px 200px rgba(161, 161, 161, 0.2),
                        100px 100px 250px rgba(161, 161, 161, 0.9),
                        4px 4px 5px rgba(255, 255, 255, 0.3) inset,
                        -1px -2px 5px rgba(113, 113, 113, 0.51) inset;
            position: relative;
        }
        
        .modal-content {
            padding: 9px 19px 65px 19px;
            display: flex;
            flex-direction: column;
            gap: 4px;
            min-width: 409px;
            height: 100%;
            position: relative;
        }
        
        .modal-header {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .modal-title {
            color: var(--text);
            font-size: 23.04px;
            font-family: 'Baloo Bhaijaan 2';
            font-weight: 600;
            white-space: nowrap;
        }
        
        .modal-divider {
            height: 1px;
            background: var(--text);
            opacity: 0.23;
            border: none;
            margin: 0;
        }
        
        .modal-form {
            display: flex;
            flex-direction: column;
            gap: 24px;
            padding: 19px 0;
            width: 100%;
        }
        
        .form-field-session-name,
        .form-field-key-signature {
            display: flex;
            justify-content: space-between;
            padding-right: 24px;
            width: 100%;
            align-items: center;
        }
        
        .field-label-container {
            display: flex;
            align-items: center;
        }
        
        .label-column {
            width: 141px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .field-label {
            color: var(--text);
            font-size: 19.20px;
            font-family: 'Baloo Bhaijaan 2';
            font-weight: 400;
            line-height: 33px;
            white-space: nowrap;
        }
        
        .field-input-container {
            display: flex;
            flex: 1;
            align-items: center;
        }
        
        .input-column {
            display: flex;
            flex-direction: column;
            gap: 20px;
            align-items: flex-end;
            justify-content: flex-end;
            flex: 1;
        }
        
        .input-placeholder {
            color: var(--text);
            font-size: 14.81px;
            font-family: 'Baloo Bhaijaan 2';
            font-weight: 400;
            white-space: nowrap;
            opacity: 0.6;
        }
        
        .modal-input {
            color: var(--text);
            font-size: 14.81px;
            font-family: 'Baloo Bhaijaan 2';
            font-weight: 400;
            background: transparent;
            border: none;
            border-bottom: 1px solid rgba(93, 79, 78, 0.3);
            padding: 4px 8px;
            width: 100%;
            outline: none;
        }
        
        .modal-input:focus {
            border-bottom-color: var(--primary);
        }
        
        /* Fretboard Toggle in Modal */
        .modal-fretboard-toggle {
            width: 90px;
            height: 53px;
            position: absolute;
            left: 12px;
            bottom: 12px;
            opacity: 0.83;
        }
        
        .fretboard-toggle-switch {
            position: relative;
            width: 100%;
            height: 32px;
        }
        
        .fretboard-toggle-label {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 90px;
            text-align: center;
            color: var(--text-color);
            font-size: 14.81px;
            font-family: 'Baloo Bhaijaan 2';
            font-weight: 400;
        }
        
        /* Create Button in Modal */
        .create-session-button {
            height: 36px;
            position: absolute;
            right: 19px;
            bottom: 17px;
            background: var(--primary);
            border: 1px solid rgba(0, 0, 0, 0.11);
            border-radius: 5px;
            padding: 10px;
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            transition: transform 0.2s;
            box-shadow: 1px 1px 2px rgba(109, 93, 93, 0.2) inset,
                        -1px -1px 2px rgba(171, 145, 145, 0.9) inset;
        }
        
        .create-session-button:hover {
            transform: translateY(-1px);
        }
        
        .create-session-button:active {
            transform: translateY(0);
        }
        
        .create-button-icon {
            width: 19.5px;
            height: 19.5px;
            position: relative;
        }
        
        .create-button-icon svg {
            width: 100%;
            height: 100%;
        }
        
        .create-button-text {
            color: #F0F0F0;
            font-size: 14.81px;
            font-family: 'Baloo Bhaijaan 2';
            font-weight: 400;
            white-space: nowrap;
        }
        
        /* Close button for modal */
        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: transparent;
            border: none;
            color: var(--text);
            font-size: 24px;
            cursor: pointer;
            padding: 0;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0.6;
            transition: opacity 0.2s;
        }
        
        .modal-close:hover {
            opacity: 1;
        }
        
        /* ==========================================================================
           Responsive Media Queries
           ========================================================================== */
        
        /* Tablets (max-width: 992px) */
        @media (max-width: 992px) {
            .top-menu-bar {
                height: auto;
                min-height: 60px;
                position: relative;
                padding: 10px 0;
            }
            
            .search-bar {
                width: 50%;
                position: relative;
                left: 50%;
                transform: translateX(-50%);
                margin: 10px auto;
                top: auto;
            }
            
            .left-navigation {
                position: relative;
                left: auto;
                top: auto;
                transform: none;
                justify-content: center;
                width: 100%;
                margin: 10px 0;
            }
            
            .center-actions {
                position: relative;
                left: auto;
                top: auto;
                transform: none;
                justify-content: center;
                width: 100%;
                margin: 10px 0;
            }
            
            .right-toggle-area {
                position: relative;
                left: auto;
                justify-content: center;
                width: 100%;
                padding: 10px 0;
            }
            
            .content-area {
                top: 10px;
                height: calc(100vh - 200px);
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
                gap: min(32px, 3vw);
            }
            
            .create-session-modal {
                width: 90%;
                max-width: 497px;
                margin: 0 auto;
            }
        }
        
        /* Mobile devices (max-width: 768px) */
        @media (max-width: 768px) {
            .search-bar {
                width: 90%;
                height: 40px;
            }
            
            .search-text {
                font-size: 18px;
                padding: 0 30px;
            }
            
            .search-icon {
                width: 12px;
                height: 12px;
            }
            
            .nav-button,
            .action-button {
                padding: 8px;
            }
            
            .nav-button svg,
            .action-button svg {
                width: 18px;
                height: 18px;
            }
            
            .content-area {
                grid-template-columns: 1fr;
                gap: min(24px, 2vw);
                width: 95%;
            }
            
            .card-component {
                min-width: 250px;
                height: 175px;
            }
            
            .card-container {
                height: 175px;
            }
            
            .card-title {
                font-size: 20px;
            }
            
            .primary-content-text {
                font-size: 16px;
                line-height: 28px;
            }
            
            .timestamp-text {
                font-size: 13px;
            }
            
            .create-session-modal {
                width: 95%;
                max-width: 400px;
                min-height: 220px;
            }
            
            .modal-title {
                font-size: 20px;
            }
            
            .field-label {
                font-size: 16px;
                line-height: 28px;
            }
            
            .modal-input {
                font-size: 13px;
            }
        }
        
        /* Small mobile devices (max-width: 480px) */
        @media (max-width: 480px) {
            .search-bar {
                width: 95%;
                height: 36px;
            }
            
            .search-text {
                font-size: 16px;
                padding: 0 25px;
            }
            
            .left-navigation,
            .center-actions {
                gap: 8px;
                flex-wrap: wrap;
            }
            
            .nav-button,
            .action-button {
                padding: 6px;
            }
            
            .nav-button svg,
            .action-button svg {
                width: 16px;
                height: 16px;
            }
            
            .toggle-component {
                transform: scale(0.9);
            }
            
            .content-area {
                gap: 16px;
                width: 98%;
            }
            
            .card-component {
                min-width: 220px;
                height: 175px;
            }
            
            .card-container {
                padding: 16px 24px;
                height: 175px;
            }
            
            .card-title {
                font-size: 18px;
            }
            
            .primary-content-text {
                font-size: 15px;
                line-height: 26px;
            }
            
            .timestamp-text {
                font-size: 12px;
            }
            
            .create-session-modal {
                width: 98%;
                max-width: 350px;
                min-height: 200px;
            }
            
            .modal-content {
                padding: 8px 16px 50px 16px;
            }
            
            .modal-title {
                font-size: 18px;
            }
            
            .field-label {
                font-size: 15px;
                line-height: 26px;
            }
            
            .modal-input {
                font-size: 12px;
                padding: 3px 6px;
            }
            
            .create-button-text {
                font-size: 13px;
            }
            
            .create-session-button {
                height: 32px;
                padding: 8px;
            }
            
            .create-button-icon {
                width: 16px;
                height: 16px;
            }
        }
    </style>
</head>
<body>
    <!-- 
    ============================================================================
    ROOT CONTAINER: Recent Notes Screen
    Type: Main application frame
    Dimensions: 1728px × 1117px
    ============================================================================
    -->
    <div class="recent-notes-screen" data-layer="Recent-Notes-Screen">
        
        <!-- 
        ========================================================================
        HEADER: Top Menu Bar Component
        Type: Fixed header navigation
        Dimensions: 1728px × 73px
        ========================================================================
        -->
        <header class="top-menu-bar" data-layer="Top Menu Bar">
            
            <!-- Search Bar - Center Positioned -->
            <!-- <div class="search-bar" data-layer="Search Bar">
                <div class="search-text">Note taking Session Name</div>
                <div class="search-icon" data-layer="icon">
                    <svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path opacity="0.41" d="M13.8333 15L8.58333 9.75C8.16667 10.0833 7.6875 10.3472 7.14583 10.5417C6.60417 10.7361 6.02778 10.8333 5.41667 10.8333C3.90278 10.8333 2.62153 10.309 1.57292 9.26042C0.524306 8.21181 0 6.93056 0 5.41667C0 3.90278 0.524306 2.62153 1.57292 1.57292C2.62153 0.524306 3.90278 0 5.41667 0C6.93056 0 8.21181 0.524306 9.26042 1.57292C10.309 2.62153 10.8333 3.90278 10.8333 5.41667C10.8333 6.02778 10.7361 6.60417 10.5417 7.14583C10.3472 7.6875 10.0833 8.16667 9.75 8.58333L15 13.8333L13.8333 15ZM5.41667 9.16667C6.45833 9.16667 7.34375 8.80208 8.07292 8.07292C8.80208 7.34375 9.16667 6.45833 9.16667 5.41667C9.16667 4.375 8.80208 3.48958 8.07292 2.76042C7.34375 2.03125 6.45833 1.66667 5.41667 1.66667C4.375 1.66667 3.48958 2.03125 2.76042 2.76042C2.03125 3.48958 1.66667 4.375 1.66667 5.41667C1.66667 6.45833 2.03125 7.34375 2.76042 8.07292C3.48958 8.80208 4.375 9.16667 5.41667 9.16667Z" fill="var(--text)"/>
                    </svg>
                </div>
            </div> -->
            
            <!-- Left Navigation Section -->
            <nav class="left-navigation" data-layer="Frame 2">
                <button class="nav-button home-button" data-layer="Home Button" aria-label="Home" data-nav-target="home">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M18.7074 16.5851V8.72749C18.7074 8.25818 18.6005 7.79505 18.3949 7.37317C18.1893 6.95128 17.8904 6.58172 17.5209 6.29247L10.9993 1.18844C10.6365 0.904357 10.189 0.75 9.7282 0.75C9.26741 0.75 8.8199 0.904357 8.45709 1.18844L1.93555 6.29144C1.56603 6.5809 1.26725 6.95068 1.06184 7.37274C0.856433 7.79481 0.749793 8.25809 0.75 8.72749V16.5851C0.75 17.7809 1.71906 18.75 2.91491 18.75H7.00763V10.5388H12.4488V18.75H16.5415C17.1157 18.75 17.6663 18.5219 18.0723 18.1159C18.4783 17.7099 18.7074 17.1593 18.7074 16.5851Z" stroke="var(--text)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                
                <button class="nav-button library-button" data-layer="Library" aria-label="Library">
                    <svg width="25" height="20" viewBox="0 0 25 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12.3246 5.12956C12.3246 4.55443 12.2113 3.98493 11.9912 3.45358C11.7711 2.92222 11.4485 2.43942 11.0418 2.03274C10.6351 1.62606 10.1523 1.30347 9.62098 1.08337C9.08963 0.863281 8.52013 0.75 7.94499 0.75H3.25261C2.58887 0.75 1.95233 1.01367 1.483 1.483C1.01367 1.95233 0.75 2.58887 0.75 3.25261V14.4192C0.75 15.083 1.01367 15.7195 1.483 16.1889C1.95233 16.6582 2.58887 16.9218 3.25261 16.9218H8.15396C9.1935 16.9218 10.2073 17.2454 11.0545 17.8478L12.3246 18.75M12.3246 5.12956V18.75M12.3246 5.12956C12.3246 3.96803 12.786 2.85407 13.6073 2.03274C14.4286 1.21142 15.5426 0.75 16.7041 0.75H21.3965C22.0602 0.75 22.6968 1.01367 23.1661 1.483C23.6354 1.95233 23.8991 2.58887 23.8991 3.25261V14.4192C23.8991 15.083 23.6354 15.7195 23.1661 16.1889C22.6968 16.6582 22.0602 16.9218 21.3965 16.9218H16.4939C15.4548 16.9221 14.4415 17.2457 13.5946 17.8478L12.3246 18.75" stroke="var(--text)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
            </nav>
            
            <!-- Center Action Buttons Section -->
            <div class="center-actions" data-layer="Frame 3">
                <button class="action-button bookmark-button" aria-label="Bookmark">
                    <svg width="17" height="20" viewBox="0 0 17 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M0.75 18.0952C0.75 18.6074 1.31984 18.9211 1.76111 18.6506L7.62615 15.0711C7.80139 14.9649 8.00239 14.9087 8.2073 14.9087C8.41222 14.9087 8.61322 14.9649 8.78846 15.0711L14.6535 18.6506C14.7533 18.7124 14.8677 18.7466 14.985 18.7496C15.1023 18.7527 15.2183 18.7245 15.3212 18.668C15.424 18.6115 15.51 18.5287 15.5704 18.4281C15.6307 18.3274 15.6632 18.2125 15.6646 18.0952V3.83578C15.6646 3.01738 15.3395 2.2325 14.7608 1.6538C14.1821 1.07511 13.3972 0.75 12.5788 0.75H3.83578C3.01738 0.75 2.2325 1.07511 1.6538 1.6538C1.07511 2.2325 0.75 3.01738 0.75 3.83578V18.0952Z" stroke="var(--text)" stroke-width="1.5" stroke-linejoin="round"/>
                    </svg>
                </button>
                
                <button class="action-button create-note-button" aria-label="Create Note">
                    <svg width="29" height="29" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M7.89744 15.7949C8.93454 15.7949 9.96149 15.5906 10.9197 15.1937C11.8778 14.7968 12.7484 14.2151 13.4818 13.4818C14.2151 12.7484 14.7968 11.8778 15.1937 10.9197C15.5906 9.96149 15.7949 8.93454 15.7949 7.89744C15.7949 6.86033 15.5906 5.83338 15.1937 4.87522C14.7968 3.91706 14.2151 3.04645 13.4818 2.31311C12.7484 1.57976 11.8778 0.99804 10.9197 0.601156C9.96149 0.204273 8.93454 -1.54541e-08 7.89744 0C5.80291 3.12109e-08 3.79416 0.832049 2.31311 2.31311C0.832049 3.79416 0 5.80291 0 7.89744C0 9.99197 0.832049 12.0007 2.31311 13.4818C3.79416 14.9628 5.80291 15.7949 7.89744 15.7949ZM7.89744 2.88185C8.08785 2.88185 8.27046 2.95749 8.4051 3.09213C8.53974 3.22677 8.61538 3.40938 8.61538 3.59979V7.17949H12.1951C12.3855 7.17949 12.5681 7.25513 12.7027 7.38977C12.8374 7.52441 12.913 7.70702 12.913 7.89744C12.913 8.08785 12.8374 8.27046 12.7027 8.4051C12.5681 8.53974 12.3855 8.61539 12.1951 8.61539H8.61538V12.1951C8.61538 12.3855 8.53974 12.5681 8.4051 12.7027C8.27046 12.8374 8.08785 12.913 7.89744 12.913C7.70702 12.913 7.52441 12.8374 7.38977 12.7027C7.25513 12.5681 7.17949 12.3855 7.17949 12.1951V8.61539H3.59979C3.40938 8.61539 3.22677 8.53974 3.09213 8.4051C2.95749 8.27046 2.88185 8.08785 2.88185 7.89744C2.88185 7.70702 2.95749 7.52441 3.09213 7.38977C3.22677 7.25513 3.40938 7.17949 3.59979 7.17949H7.17949V3.59979C7.17949 3.40938 7.25513 3.22677 7.38977 3.09213C7.52441 2.95749 7.70702 2.88185 7.89744 2.88185Z" fill="var(--text)"/>
                        <path d="M28 18.6666H25.559C23.1467 18.6666 21.9406 18.6666 21.0187 19.1361C20.2082 19.5491 19.5492 20.2081 19.1363 21.0186C18.6667 21.9404 18.6667 23.1466 18.6667 25.5589V27.9999M20.8206 10.0512H18.6667M15.077 15.7948H17.2308M18.3077 4.30762H18.8103C22.0267 4.30762 23.6349 4.30762 24.864 4.93367C25.9447 5.48432 26.8233 6.36294 27.374 7.44362C28 8.67275 28 10.281 28 13.4974V18.4498C28 19.8541 28 20.5577 27.8421 21.2182C27.6999 21.804 27.4688 22.364 27.1529 22.8781C26.7982 23.4582 26.3014 23.955 25.3077 24.9486L24.9488 25.3076C23.9551 26.3013 23.4583 26.7981 22.8782 27.1542C22.3644 27.4691 21.8043 27.7012 21.2183 27.842C20.5578 27.9999 19.8542 27.9999 18.4499 27.9999H13.4975C10.2811 27.9999 8.67287 27.9999 7.44374 27.3739C6.36306 26.8232 5.48444 25.9446 4.93379 24.8639C4.30774 23.6348 4.30774 22.0266 4.30774 18.8102V18.3076" stroke="var(--text)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                
                <button class="action-button calendar-button" aria-label="Calendar">
                    <svg width="19" height="20" viewBox="0 0 19 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M0.75 7.07432H17.777M4.74989 2.69595V0.75M13.7499 2.69595V0.75M14.3716 2.69595H4.15541C3.25224 2.69595 2.38606 3.05473 1.74742 3.69337C1.10878 4.332 0.75 5.19818 0.75 6.10135V15.3446C0.75 16.2478 1.10878 17.1139 1.74742 17.7526C2.38606 18.3912 3.25224 18.75 4.15541 18.75H14.3716C15.2748 18.75 16.141 18.3912 16.7796 17.7526C17.4182 17.1139 17.777 16.2478 17.777 15.3446V6.10135C17.777 5.19818 17.4182 4.332 16.7796 3.69337C16.141 3.05473 15.2748 2.69595 14.3716 2.69595Z" stroke="var(--text)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
            </div>
            
            <!-- Right Toggle Area Section -->
            <div class="right-toggle-area" data-layer="Toggle Area">
                <div class="toggle-component" data-layer="Toggle Component" data-toggled="True">
                    <div class="toggle-switch" data-layer="Toggle Fretboard">
                        <div class="toggle-background">
                            <div class="toggle-indicator"></div>
                        </div>
                    </div>
                    <div class="toggle-label" data-layer="Label">Label</div>
                </div>
            </div>
        </header>
        
        <!-- 
        ========================================================================
        MAIN CONTENT AREA
        Type: Card grid container
        Layout: Flex wrap with 64px gap
        ========================================================================
        -->
                <main class="content-area" data-layer="Frame 1">

            <div id="notesGrid" class="card-grid" aria-live="polite"></div>
        </main>
    </div>
    
    <!-- 
    ========================================================================
    MODAL OVERLAY - Create New Note
    Type: Modal dialog for creating new sessions
    State: Hidden by default, shown when create button is clicked
    ========================================================================
    -->
    <div class="modal-overlay" id="createModal" data-layer="Blurred Overlay">
        <dialog class="create-session-modal" data-layer="Card Component" open>
            <div class="modal-content" data-layer="Create Session Card">
                <button class="modal-close" id="closeModal" aria-label="Close modal">&times;</button>
                
                <header class="modal-header" data-layer="Title">
                    <h1 class="modal-title">Create Session</h1>
                </header>
                
                <hr class="modal-divider" data-layer="Divider">
                
                <form class="modal-form" data-layer="Conent Area" id="createSessionForm">
                    <div class="form-field-session-name" data-layer="Session Name">
                        <div class="field-label-container">
                            <div class="label-column" data-layer="Row 1">
                                <label class="field-label" for="sessionName">Session Name :</label>
                            </div>
                        </div>
                        
                        <div class="field-input-container">
                            <div class="input-column" data-layer="Row 3">
                                <input 
                                    type="text" 
                                    id="sessionName" 
                                    name="sessionName" 
                                    class="modal-input" 
                                    placeholder="Enter the session name"
                                    required
                                />
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-field-key-signature" data-layer="Key Signature">
                        <div class="field-label-container">
                            <div class="label-column" data-layer="Row 1">
                                <label class="field-label" for="keySignature">Key :</label>
                            </div>
                        </div>
                        
                        <div class="field-input-container">
                            <div class="input-column" data-layer="Row 3">
                                <input 
                                    type="text" 
                                    id="keySignature" 
                                    name="keySignature" 
                                    class="modal-input" 
                                    placeholder="Enter Key Signature"
                                />
                            </div>
                        </div>
                    </div>
                </form>
                
                <div class="modal-fretboard-toggle" data-layer="View Fretboard">
                    <div class="fretboard-toggle-switch" data-layer="Toggle Fretboard">
                        <div class="toggle-background">
                            <div class="toggle-indicator"></div>
                        </div>
                    </div>
                    <div class="fretboard-toggle-label">
                        <p>Fretboard</p>
                    </div>
                </div>
                
                <button type="submit" form="createSessionForm" class="create-session-button" data-layer="Create Button">
                    <div class="create-button-icon" data-layer="Icon=Create Note">
                        <svg width="29" height="29" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M7.89744 15.7949C8.93454 15.7949 9.96149 15.5906 10.9197 15.1937C11.8778 14.7968 12.7484 14.2151 13.4818 13.4818C14.2151 12.7484 14.7968 11.8778 15.1937 10.9197C15.5906 9.96149 15.7949 8.93454 15.7949 7.89744C15.7949 6.86033 15.5906 5.83338 15.1937 4.87522C14.7968 3.91706 14.2151 3.04645 13.4818 2.31311C12.7484 1.57976 11.8778 0.99804 10.9197 0.601156C9.96149 0.204273 8.93454 -1.54541e-08 7.89744 0C5.80291 3.12109e-08 3.79416 0.832049 2.31311 2.31311C0.832049 3.79416 0 5.80291 0 7.89744C0 9.99197 0.832049 12.0007 2.31311 13.4818C3.79416 14.9628 5.80291 15.7949 7.89744 15.7949ZM7.89744 2.88185C8.08785 2.88185 8.27046 2.95749 8.4051 3.09213C8.53974 3.22677 8.61538 3.40938 8.61538 3.59979V7.17949H12.1951C12.3855 7.17949 12.5681 7.25513 12.7027 7.38977C12.8374 7.52441 12.913 7.70702 12.913 7.89744C12.913 8.08785 12.8374 8.27046 12.7027 8.4051C12.5681 8.53974 12.3855 8.61539 12.1951 8.61539H8.61538V12.1951C8.61538 12.3855 8.53974 12.5681 8.4051 12.7027C8.27046 12.8374 8.08785 12.913 7.89744 12.913C7.70702 12.913 7.52441 12.8374 7.38977 12.7027C7.25513 12.5681 7.17949 12.3855 7.17949 12.1951V8.61539H3.59979C3.40938 8.61539 3.22677 8.53974 3.09213 8.4051C2.95749 8.27046 2.88185 8.08785 2.88185 7.89744C2.88185 7.70702 2.95749 7.52441 3.09213 7.38977C3.22677 7.25513 3.40938 7.17949 3.59979 7.17949H7.17949V3.59979C7.17949 3.40938 7.25513 3.22677 7.38977 3.09213C7.52441 2.95749 7.70702 2.88185 7.89744 2.88185Z" fill="#F0F0F0"/>
                            <path d="M28 18.6666H25.559C23.1467 18.6666 21.9406 18.6666 21.0187 19.1361C20.2082 19.5491 19.5492 20.2081 19.1363 21.0186C18.6667 21.9404 18.6667 23.1466 18.6667 25.5589V27.9999M20.8206 10.0512H18.6667M15.077 15.7948H17.2308M18.3077 4.30762H18.8103C22.0267 4.30762 23.6349 4.30762 24.864 4.93367C25.9447 5.48432 26.8233 6.36294 27.374 7.44362C28 8.67275 28 10.281 28 13.4974V18.4498C28 19.8541 28 20.5577 27.8421 21.2182C27.6999 21.804 27.4688 22.364 27.1529 22.8781C26.7982 23.4582 26.3014 23.955 25.3077 24.9486L24.9488 25.3076C23.9551 26.3013 23.4583 26.7981 22.8782 27.1542C22.3644 27.4691 21.8043 27.7012 21.2183 27.842C20.5578 27.9999 19.8542 27.9999 18.4499 27.9999H13.4975C10.2811 27.9999 8.67287 27.9999 7.44374 27.3739C6.36306 26.8232 5.48444 25.9446 4.93379 24.8639C4.30774 23.6348 4.30774 22.0266 4.30774 18.8102V18.3076" stroke="#F0F0F0" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <span class="create-button-text">Create</span>
                </button>
            </div>
        </dialog>
    </div>
    
    <script>
        const NOTE_STORAGE_KEY = 'notesDatabase';
        const DEFAULT_NOTES = [
            {
                id: 'seed-1',
                title: "Isn't She Lovely",
                content: `This is an example text section.  This is an example text section. This is an example text section. This is an example text section. This is an example text section.

This is what bullet points look like
This is another one

When`,
                secondaryContent: 'If the user would like it they can add a second text section that will appear like this Furthermore they can reference the fretboard in their notes by using the add fretboard button, and a hyperlinked fretboard link will look like this',
                updatedAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString()
            },
            {
                id: 'seed-2',
                title: 'II - V - I Practice',
                content: 'Practice cycling through II - V - I in all keys. Focus on smooth voice leading and rhythmic consistency.',
                secondaryContent: 'Consider arpeggio substitutions and enclosure ideas for the V chord.',
                updatedAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString()
            },
            {
                id: 'seed-3',
                title: 'C Major Fusion Backing',
                content: 'Altered and Phrygian Dominant flavors over the bridge. Capture motifs that resolve to the tonic.',
                secondaryContent: 'Track tone choices and pedal settings for repeatable tone.',
                updatedAt: new Date(Date.now() - 4 * 24 * 60 * 60 * 1000).toISOString()
            },
            {
                id: 'seed-4',
                title: 'Strasbourg St. Denis',
                content: 'Melodic Minor & Modes ideas to test against the head. Note any tension releases that felt best.',
                secondaryContent: 'Transcribe a chorus from Roy Hargrove for phrasing reference.',
                updatedAt: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString()
            }
        ];

        const NAV_ROUTES = {
            home: 'index.html',
            analysis: 'New-Analysis-Screen.html'
        };

        const readNotes = () => {
            const stored = localStorage.getItem(NOTE_STORAGE_KEY);
            if (!stored) return [];

            try {
                const parsed = JSON.parse(stored);
                return Array.isArray(parsed) ? parsed : [];
            } catch (error) {
                console.warn('Unable to parse notes database', error);
                return [];
            }
        };

        const saveNotes = (notes) => {
            localStorage.setItem(NOTE_STORAGE_KEY, JSON.stringify(notes));
        };

        const getNotes = () => {
            const notes = readNotes();
            if (!notes.length) {
                saveNotes(DEFAULT_NOTES);
                return [...DEFAULT_NOTES];
            }

            return notes;
        };

        const createNoteRecord = (title = 'Untitled Note') => {
            const notes = getNotes();
            const newNote = {
                id: crypto.randomUUID ? crypto.randomUUID() : `note-${Date.now()}-${Math.random().toString(16).slice(2)}`,
                title: title.trim() || 'Untitled Note',
                content: '',
                secondaryContent: '',
                updatedAt: new Date().toISOString()
            };

            notes.push(newNote);
            saveNotes(notes);
            return newNote;
        };

        const updateNoteRecord = (id, updates) => {
            const notes = getNotes();
            const index = notes.findIndex((note) => note.id === id);
            if (index === -1) return null;

            notes[index] = {
                ...notes[index],
                ...updates,
                updatedAt: new Date().toISOString()
            };

            saveNotes(notes);
            return notes[index];
        };

        const buildNavigationUrl = (target, params = {}) => {
            const destination = NAV_ROUTES[target] || target;
            const url = new URL(destination, window.location.href);

            Object.entries(params).forEach(([key, value]) => {
                if (value) {
                    url.searchParams.set(key, value);
                }
            });

            return url.toString();
        };

        const navigateTo = (target, params = {}) => {
            const url = buildNavigationUrl(target, params);
            window.location.assign(url);
        };

        const attachNavigation = (element, target, paramsProvider) => {
            if (!element) return;

            const handler = (event) => {
                event.preventDefault();
                const params = typeof paramsProvider === 'function' ? paramsProvider(event) : {};
                navigateTo(target, params);
            };

            element.addEventListener('click', handler);
            element.addEventListener('keydown', (event) => {
                if (event.key === 'Enter' || event.key === ' ') {
                    event.preventDefault();
                    handler(event);
                }
            });
        };

        // Modal functionality
        const createModal = document.getElementById('createModal');
        const createNoteButton = document.querySelector('.create-note-button');
        const closeModalButton = document.getElementById('closeModal');
        const createSessionForm = document.getElementById('createSessionForm');
        const recentNotesScreen = document.querySelector('.recent-notes-screen');
        const notesGrid = document.getElementById('notesGrid');

        const formatTimestamp = (isoDate) => {
            if (!isoDate) return '';
            const date = new Date(isoDate);
            if (Number.isNaN(date.getTime())) return '';
            return date.toLocaleDateString(undefined, { month: 'short', day: 'numeric' });
        };

        const createCardElement = (note) => {
            const article = document.createElement('article');
            article.className = 'card-component';

            const container = document.createElement('div');
            container.className = 'card-container';
            container.dataset.noteId = note.id;

            const header = document.createElement('header');
            header.className = 'card-title-section';
            const titleEl = document.createElement('h2');
            titleEl.className = 'card-title';
            titleEl.textContent = note.title || 'Untitled Note';
            header.appendChild(titleEl);

            const divider = document.createElement('hr');
            divider.className = 'card-divider';

            const cardContent = document.createElement('div');
            cardContent.className = 'card-content-area';
            const grid = document.createElement('div');
            grid.className = 'content-grid';

            const columnOne = document.createElement('div');
            columnOne.className = 'content-column-1';
            const primaryText = document.createElement('p');
            primaryText.className = 'primary-content-text';
            const snippetSource = note.content?.trim() || note.secondaryContent?.trim() || 'No content yet';
            primaryText.textContent = snippetSource.length > 120 ? `${snippetSource.slice(0, 117)}...` : snippetSource;
            columnOne.appendChild(primaryText);

            const columnThree = document.createElement('div');
            columnThree.className = 'content-column-3';
            const timestamp = document.createElement('p');
            timestamp.className = 'timestamp-text';
            const formatted = formatTimestamp(note.updatedAt);
            timestamp.textContent = formatted || 'Just now';
            columnThree.appendChild(timestamp);

            grid.append(columnOne, columnThree);
            cardContent.appendChild(grid);

            container.append(header, divider, cardContent);
            article.appendChild(container);

            container.setAttribute('tabindex', '0');
            attachNavigation(container, 'analysis', () => ({ noteId: note.id, sessionName: note.title }));

            return article;
        };

        const renderNotesGrid = () => {
            if (!notesGrid) return;
            const notes = getNotes();
            notesGrid.innerHTML = '';

            if (!notes.length) {
                const emptyState = document.createElement('p');
                emptyState.className = 'empty-state';
                emptyState.textContent = 'Create your first note to get started.';
                notesGrid.appendChild(emptyState);
                return;
            }

            notes.forEach((note) => {
                notesGrid.appendChild(createCardElement(note));
            });
        };

        renderNotesGrid();

        window.addEventListener('storage', (event) => {
            if (event.key === NOTE_STORAGE_KEY) {
                renderNotesGrid();
            }
        });

        // Open modal when create note button is clicked
        createNoteButton.addEventListener('click', () => {
            createModal.classList.add('active');
            recentNotesScreen.classList.add('blurred');
            document.getElementById('sessionName').focus();
        });

        // Close modal when close button is clicked
        closeModalButton.addEventListener('click', () => {
            createModal.classList.remove('active');
            recentNotesScreen.classList.remove('blurred');
        });

        // Close modal when clicking outside the dialog
        createModal.addEventListener('click', (e) => {
            if (e.target === createModal) {
                createModal.classList.remove('active');
                recentNotesScreen.classList.remove('blurred');
            }
        });

        // Close modal on Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && createModal.classList.contains('active')) {
                createModal.classList.remove('active');
                recentNotesScreen.classList.remove('blurred');
            }
        });

        // Handle form submission with robust navigation
        createSessionForm.setAttribute('action', NAV_ROUTES.analysis);
        createSessionForm.setAttribute('method', 'GET');

        createSessionForm.addEventListener('submit', (event) => {
            event.preventDefault();

            const formData = new FormData(createSessionForm);
            const sessionName = formData.get('sessionName')?.toString().trim();
            const keySignature = formData.get('keySignature')?.toString().trim();

            const newNote = createNoteRecord(sessionName || 'Untitled Note');
            renderNotesGrid();

            navigateTo('analysis', {
                noteId: newNote.id,
                sessionName: newNote.title,
                keySignature: keySignature || ''
            });
        });

        // Home navigation accessibility
        const homeButton = document.querySelector('[data-nav-target="home"]');
        attachNavigation(homeButton, 'home');

        // Toggle switches functionality
        const toggles = document.querySelectorAll('.toggle-background');
        toggles.forEach(toggle => {
            toggle.addEventListener('click', function() {
                const indicator = this.querySelector('.toggle-indicator');
                const isActive = this.classList.contains('active');

                if (isActive) {
                    this.classList.remove('active');
                    indicator.style.left = '3px';
                    indicator.style.right = 'auto';
                } else {
                    this.classList.add('active');
                    indicator.style.left = 'auto';
                    indicator.style.right = '3px';
                }
            });
        });
</script>
</body>
</html>
